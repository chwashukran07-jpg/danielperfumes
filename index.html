<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DANIEL PERFUMES</title>
  <link rel="icon" href="images/daniel-logo.jpg" type="image/jpeg">
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Inter Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <!-- React and Babel CDNs -->
  <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
    }
    .nav-container {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease-out;
    }
    .nav-container.open {
      max-height: 300px;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState } = React;

     // Product data moved outside to be shared by all components
    const ALL_PRODUCTS = [
      {
        id: 1, name: 'Vanilla Powder', desc: 'A sweet, powdery, and elegant vanilla-based fragrance.', gender: 'women', imageUrl: 'images/vanilla-powder.jpg', sizes: [
          { size: '100ml', price: 'UGX 160,000' }
        ]
      },
      {
        id: 2, name: 'Girl of Now', desc: 'Gourmand sweet almond and pistachio blend with floral notes.', gender: 'women', imageUrl: 'images/girl-of-now.jpg', sizes: [
          { size: '90ml', price: 'UGX 160,000' }
        ]
      },
      {
        id: 3, name: 'So Scandal!', desc: 'Bold, sexy, sweet floral-fruity fragrance.', gender: 'women', imageUrl: 'images/so-scandal!.jpg', sizes: [
          { size: '30ml', price: 'UGX 50,000' },
          { size: '50ml', price: 'UGX 80,000' },
          { size: '80ml', price: 'UGX 120,000'},
          { size: '100ml', price: 'UGX 160,000' }
        ]
      },
      {
        id: 4, name: 'Vanilla 28', desc: 'Warm vanilla with brown sugar, creamy and sweet.', gender: 'women', imageUrl: 'images/vanilla-28.jpg', sizes: [
          { size: '100ml', price: 'UGX 160,000' }
        ]
      },
      {
        id: 5, name: 'Mancera Coco Vanille (EDP)', desc: 'Creamy coconut and tropical vanilla blend.', gender: 'women', imageUrl: 'images/mancera-coco-vanille.jpg', sizes: [
          { size: '100ml', price: 'UGX 160,000' }
        ]
      },
      {
        id: 6, name: 'Kayali Pistachio Gelato', desc: 'Gourmand pistachio, marshmallow, and whipped cream.', gender: 'women', imageUrl: 'images/kayali-pistachio-gelato.jpg', sizes: [
          { size: '50ml', price: 'UGX 80,000' },
          { size: '100ml', price: 'UGX 160,000' }
        ]
      },
      {
        id: 7, name: 'Initio Parfums PrivÃ©s - Side Effect', desc: 'Rum, vanilla, tobacco, and cinnamon - strong unisex gourmand.', gender: 'unisex', imageUrl: 'images/initio-side-effect.jpg', sizes: [
        { size: '90ml', price: 'UGX 160,000' }
      ]
      },
      {
        id: 8, name: 'Amouage Reflection Man', desc: 'A fresh, floral, and woody fragrance with a hint of spice.', gender: 'men', imageUrl: 'images/amouage-reflection-man.jpg', sizes: [
        { size: '100ml', price: 'UGX 160,000' }
      ]
      },
      {
        id: 9, name: 'Creed Aventus', desc: 'Pineapple, birch, musk, and ambergris - iconic masculine.', gender: 'men', imageUrl: 'images/creed-aventus.jpg', sizes: [
        { size: '50ml', price: 'UGX 80,000' },
        { size: '100ml', price: 'UGX 160,000' }
      ]
      },
      {
        id: 10, name: 'Tom Ford Black Orchid', desc: 'Rich, dark, and sensual with notes of black truffle, bergamot, and black orchid.', gender: 'unisex', imageUrl: 'images/tom-ford-black-orchid.jpg', sizes: [
        { size: '50ml', price: 'UGX 80,000' },
        { size: '100ml', price: 'UGX 160,000' }
      ]
      },
      {
        id: 11, name: 'Yves Saint Laurent La Nuit De L\'Homme', desc: 'A spicy and woody fragrance with notes of cardamom, cedar, and coumarin.', gender: 'men', imageUrl: 'images/ysl-la-nuit-de-lhomme.jpg', sizes: [
        { size: '60ml', price: 'UGX 80,000' },
        { size: '100ml', price: 'UGX 160,000' }
      ]
      },
      {
        id: 12, name: 'Dior Sauvage', desc: 'Fresh and robust with notes of bergamot, pepper, and ambroxan.', gender: 'men', imageUrl: 'images/dior-sauvage.jpg', sizes: [
        { size: '60ml', price: 'UGX 80,000' },
        { size: '100ml', price: 'UGX 160,000' }
      ]
      },
      {
        id: 13, name: 'Bleu De Chanel', desc: 'A woody aromatic fragrance with notes of grapefruit, dry cedar, and labdanum.', gender: 'men', imageUrl: 'images/bleu-de-chanel.jpg', sizes: [
        { size: '50ml', price: 'UGX 80,000' },
        { size: '100ml', price: 'UGX 160,000' }
      ]
      },
      {
        id: 14, name: 'Acqua Di Gio Profumo', desc: 'Aromatic and woody with notes of bergamot, jasmine, and patchouli.', gender: 'men', imageUrl: 'images/acqua-di-gio-profumo.jpg', sizes: [
        { size: '40ml', price: 'UGX 80,000' },
        { size: '75ml', price: 'UGX 120,000' },
        { size: '125ml', price: 'UGX 160,000' }
      ]
      },
      {
        id: 15, name: 'Paco Rabanne 1 Million', desc: 'Warm and spicy with notes of grapefruit, cinnamon, and leather.', gender: 'men', imageUrl: 'images/paco-rabanne-1-million.jpg', sizes: [
        { size: '50ml', price: 'UGX 80,000' },
        { size: '100ml', price: 'UGX 160,000' }
      ]
      },
      {
        id: 16, name: 'Versace Eros', desc: 'Fresh and sensual with notes of mint, green apple, and tonka bean.', gender: 'men', imageUrl: 'images/versace-eros.jpg', sizes: [
        { size: '50ml', price: 'UGX 80,000' },
        { size: '100ml', price: 'UGX 160,000' }
      ]
      },
      {
        id: 17, name: 'Intense Black', desc: 'Deep masculine woody-spicy cologne.', gender: 'men', imageUrl: 'images/intense-black.jpg', sizes: [
        { size: '50ml', price: 'UGX 80,000' },
        { size: '100ml', price: 'UGX 160,000' }
      ]
      },
      {
        id: 18, name: 'Creed Aventus', desc: 'Pineapple, birch, musk, and ambergris - iconic masculine.', gender: 'men', imageUrl: 'images/creed-aventus.jpg', sizes: [
        { size: '50ml', price: 'UGX 80,000' },
        { size: '100ml', price: 'UGX 160,000' }
      ]
      },
      {
        id: 19, name: 'Wood Sage & Sea Salt', desc: 'Fresh, earthy, mineral, and salty.', gender: 'unisex', imageUrl: 'images/wood-sage-&-sea-salt.jpg', sizes: [
        { size: '50ml', price: 'UGX 80,000' },
        { size: '100ml', price: 'UGX 160,000' }
      ]
      },
      {
        id: 20, name: 'Amouage Guidance', desc: 'Rich amber, rose, and woods, perfectly balanced.', gender: 'unisex', imageUrl: 'images/amouage-guidance.jpg', sizes: [
        { size: '100ml', price: 'UGX 160,000' }
      ]
      },
      {
        id: 21, name: 'Initio Side Effect', desc: 'Rum, vanilla, tobacco, and cinnamon, strong unisex gourmand.', gender: 'unisex', imageUrl: 'images/initio-side-effect.jpg', sizes: [
        { size: '90ml', price: 'UGX 160,000' }
      ]
      },
      {
        id: 22, name: 'Oud Cadenza', desc: 'Smoky, resinous oud with spicy undertones.', gender: 'unisex', imageUrl: 'images/oud-cadenza.jpg', sizes: [
        { size: '50ml', price: 'UGX 160,000' }
      ]
      },
    ];

    // Main App Component
    const App = () => {
      const [currentPage, setCurrentPage] = useState('home');
      const [selectedProduct, setSelectedProduct] = useState(null);
      const [showSuccessMessage, setShowSuccessMessage] = useState(false);
      const [searchQuery, setSearchQuery] = useState('');

      const syncStateFromURL = () => {
        const path = window.location.pathname;
        const params = new URLSearchParams(window.location.search);
        const query = params.get('q') || '';
        setSearchQuery(query);

        if (path.startsWith('/products/')) {
          const productId = parseInt(path.split('/')[2], 10);
          // Check if productId is a valid number
          if (!isNaN(productId)) {
            const product = ALL_PRODUCTS.find(p => p.id === productId);
            if (product) {
              setSelectedProduct(product);
              const page = product.gender === 'men' ? 'men' : product.gender === 'women' ? 'women' : 'unisex';
              setCurrentPage(page);
            } else {
              // Product not found, redirect to home
              window.history.replaceState({ page: 'home' }, '', '/');
              setCurrentPage('home');
              setSelectedProduct(null);
            }
          } else {
             // Invalid product ID in URL, redirect to home
            window.history.replaceState({ page: 'home' }, '', '/');
            setCurrentPage('home');
            setSelectedProduct(null);
          }
        } else {
          const page = path.substring(1) || 'home';
          setCurrentPage(page);
          setSelectedProduct(null);
        }
      };

      React.useEffect(() => {
        window.addEventListener('popstate', syncStateFromURL);
        syncStateFromURL();

        return () => {
          window.removeEventListener('popstate', syncStateFromURL);
        };
      }, []);


      const handlePageChange = (page) => {
        const url = page === 'home' ? '/' : `/${page}`;
        window.history.pushState({ page }, '', url);
        setCurrentPage(page);
        setSelectedProduct(null);
        setSearchQuery('');
        window.scrollTo(0, 0);
      };

      const handleProductSelect = (product) => {
        window.history.pushState({ productId: product.id }, '', `/products/${product.id}`);
        setSelectedProduct(product);
        window.scrollTo(0, 0);
      };

      const handleBack = () => {
        window.history.back();
      };

      const handleSearch = (query) => {
        const params = new URLSearchParams(window.location.search);
        if (query) {
          params.set('q', query);
        } else {
          params.delete('q');
        }
        // Use replaceState for search to avoid polluting history with every keystroke
        const newUrl = `${window.location.pathname}?${params.toString()}`;
        window.history.replaceState({ page: currentPage, query }, '', newUrl);
        setSearchQuery(query);
        setSelectedProduct(null); // Clear product selection on new search
      };

      const handleSubmit = (e) => {
        e.preventDefault();
        console.log('Form submitted!');
        setShowSuccessMessage(true);
        setTimeout(() => setShowSuccessMessage(false), 5000);
      };

      const filteredProducts = ALL_PRODUCTS.filter(product =>
        product.name.toLowerCase().includes(searchQuery.toLowerCase())
      );

      const renderPage = () => {
        if (selectedProduct) {
          return <ProductDetailPage product={selectedProduct} />;
        }
        if (searchQuery) {
          return <SearchResultsPage products={filteredProducts} searchQuery={searchQuery} onProductSelect={handleProductSelect} onSearch={handleSearch} onNavigate={handlePageChange} currentPage={currentPage} />;
        }
        switch (currentPage) {
          case 'home':
            return <HomePage onNavigate={handlePageChange} />;
          case 'men':
            return <FragranceCategoryPage title="Men's Perfumes" products={ALL_PRODUCTS.filter(p => p.gender === 'men')} onProductSelect={handleProductSelect} onSearch={handleSearch} onNavigate={handlePageChange} currentPage={currentPage} />;
          case 'women':
            return <FragranceCategoryPage title="Women's Perfumes" products={ALL_PRODUCTS.filter(p => p.gender === 'women')} onProductSelect={handleProductSelect} onSearch={handleSearch} onNavigate={handlePageChange} currentPage={currentPage} />;
          case 'unisex':
            return <FragranceCategoryPage title="Unisex Perfumes" products={ALL_PRODUCTS.filter(p => p.gender === 'unisex')} onProductSelect={handleProductSelect} onSearch={handleSearch} onNavigate={handlePageChange} currentPage={currentPage} />;
          case 'about':
            return <AboutPage />;
          case 'contact':
            return <ContactPage onSubmit={handleSubmit} showSuccess={showSuccessMessage} />;
          default:
            return <HomePage onNavigate={handlePageChange} />;
        }
      };

      const showBackButton = currentPage !== 'home' || !!selectedProduct || !!searchQuery || window.location.pathname !== '/';

      return (
        <div className="bg-[#0f0f12] text-[#f5f6f8] min-h-screen font-[Poppins]">
          <Header onNavigate={handlePageChange} currentPage={currentPage} onBack={handleBack} showBackButton={showBackButton} />
          <div className="container mx-auto px-4 py-8">
            {renderPage()}
          </div>
          <Footer />
        </div>
      );
    };

    // Header Component
    const Header = ({ onNavigate, currentPage, onBack, showBackButton }) => {
      const [isMenuOpen, setIsMenuOpen] = useState(false);
      
      const navItems = [
        { key: 'home', label: 'Home' },
        { key: 'men', label: 'Men' },
        { key: 'women', label: 'Women' },
        { key: 'unisex', label: 'Unisex' },
        { key: 'about', label: 'About' },
        { key: 'contact', label: 'Contact' },
      ];

      return (
        <header className="bg-black text-white sticky top-0 z-50 shadow-md">
          <div className="max-w-6xl mx-auto px-4 py-4 flex items-center justify-between">
            <div className="flex items-center space-x-3">
              {showBackButton ? (
                <button onClick={onBack} className="p-2 -ml-2 text-white hover:bg-white/10 rounded-full" aria-label="Go back">
                  <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M15 19l-7-7 7-7" />
                  </svg>
                </button>
              ) : (
                <img src="images/daniel logo.jpg" className="w-10 h-10 rounded-xl shadow-lg" alt="Daniels Perfumes Logo" />
              )}
              <span className="font-semibold">DANIEL PERFUMES</span>
            </div>

            {/* Desktop nav */}
            <nav className="hidden sm:flex space-x-1">
              {navItems.map(item => (
                <button
                  key={item.key}
                  onClick={() => onNavigate(item.key)}
                  className={`px-3 py-2 rounded-md text-sm font-medium transition-colors ${currentPage === item.key ? 'bg-white text-black' : 'text-white/80 hover:bg-white/10'}`}
                >
                  {item.label}
                </button>
              ))}
            </nav>

            {/* Mobile toggle */}
            <div className="sm:hidden">
              <button onClick={() => setIsMenuOpen(v => !v)} aria-label="Toggle menu" className="p-2">
                <svg xmlns="http://www.w3.org/2000/svg" className="w-6 h-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d={isMenuOpen ? "M6 18L18 6M6 6l12 12" : "M4 6h16M4 12h16M4 18h16"} />
                </svg>
              </button>
            </div>
          </div>

          {/* Mobile menu */}
          <div className={`nav-container ${isMenuOpen ? 'open' : ''} sm:hidden bg-black px-4`}>
            <div className="flex flex-col space-y-2 py-3">
              {navItems.map(item => (
                <button
                  key={item.key}
                  onClick={() => { setIsMenuOpen(false); onNavigate(item.key); }}
                  className={`text-left px-3 py-2 rounded transition-colors ${currentPage === item.key ? 'bg-white/10 text-white' : 'text-white/80 hover:bg-white/10'}`}
                >
                  {item.label}
                </button>
              ))}
            </div>
          </div>
        </header>
      );
    };

    // HomePage Component
    const HomePage = ({ onNavigate }) => {
      const categories = [
        { name: 'For Him', key: 'men', imageUrl: 'images/for him.jpg' },
        { name: 'For Her', key: 'women', imageUrl: 'images/for her.jpg' },
        { name: 'For Everyone', key: 'unisex', imageUrl: 'images/for everyone.jpg' },
      ];

      return (
        <>
          <div className="text-center pt-12 pb-16">
            <h1 className="text-5xl md:text-6xl font-extrabold text-white leading-tight">
              Find Your Signature Scent
            </h1>
            <p className="mt-4 text-lg text-white/70 max-w-2xl mx-auto">
              Explore our curated collection of luxury-inspired perfumes. High-quality, long-lasting fragrances for every occasion.
            </p>
          </div>

          <div className="mt-8">
            <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
              {categories.map(category => (
                <div 
                  key={category.key}
                  onClick={() => onNavigate(category.key)}
                  className="relative rounded-2xl overflow-hidden group cursor-pointer shadow-lg transform transition-transform duration-300 hover:scale-105"
                >
                  <img src={category.imageUrl} alt={category.name} className="w-full h-80 object-cover" />
                  <div className="absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center transition-opacity duration-300 group-hover:bg-opacity-60">
                    <h3 className="text-3xl font-bold text-white">{category.name}</h3>
                  </div>
                </div>
              ))}
            </div>
          </div>
        </>
      );
    };

    // Footer Component
    const Footer = () => (
      <footer className="py-8 text-center text-white/50 text-sm">
        <p>Â© {new Date().getFullYear()} DANIEL PERFUMES â All rights reserved.</p>
        <div className="mt-2 flex justify-center items-center">
          <a href="https://www.instagram.com/danielperfumes_ug?igsh=d3ppb2p1ZXg5MjVt" target="_blank" rel="noopener noreferrer" className="text-white hover:text-[#d2b48c] transition-colors">
            <svg
              aria-hidden="true"
              focusable="false"
              data-prefix="fab"
              data-icon="instagram"
              className="w-5 h-5"
              role="img"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 448 512"
              fill="currentColor"
            >
              <path d="M224.1 128.7c-33.1 0-59.5 26.5-59.5 59.5s26.5 59.5 59.5 59.5c33.1 0 59.5-26.5 59.5-59.5S257.2 128.7 224.1 128.7zM425 224c-1.3 22-8.3 43.3-21.6 62.1c-13.3 18.9-31.5 33.9-52 42.1c-20.5 8.1-43.1 10.3-64.8 6.4c-21.7-3.9-42.3-13.1-59.3-27.1c-17-14-30.8-32.3-40.2-53.5c-9.4-21.2-13.6-44.5-12.2-67.6c1.4-23.1 8.2-46.1 20.9-66.9c12.7-20.8 29.5-38.3 49.3-51.5c19.8-13.2 41.5-21.1 63.8-23.7c22.3-2.6 44.5-1.5 65.6 3.1c21.2 4.6 40.8 13.9 57.7 27.6c16.9 13.7 30.5 31.4 39.7 51.5c9.2 20.1 13.1 41.8 11.8 63.8zM224.1 0c-123.4 0-224 100.6-224 224c0 55.2 20.8 106.4 54.9 145.6c-1.1 7.8-1.7 15.8-1.7 24c0 4.4 0.2 8.8 0.5 13.1c-0.4 5.1-0.5 10.3-0.5 15.5c0 123.4 100.6 224 224 224s224-100.6 224-224S347.5 0 224.1 0z"></path>
            </svg>
          </a>
        </div>
      </footer>
    );

    const CategoryHeader = ({ onNavigate, currentPage, onSearch, initialQuery = '' }) => {
      const [localQuery, setLocalQuery] = useState(initialQuery);

      React.useEffect(() => {
        setLocalQuery(initialQuery);
      }, [initialQuery]);

      const handleSearchSubmit = (e) => {
        e.preventDefault();
        onSearch(localQuery);
      };

      const categoryNavItems = [
        { key: 'men', label: 'Men' },
        { key: 'women', label: 'Women' },
        { key: 'unisex', label: 'Unisex' },
      ];

      return (
        <div className="mb-8">
          <nav className="bg-[#16161a] border border-white/10 rounded-t-xl flex justify-center">
            {categoryNavItems.map(item => (
              <button
                key={item.key}
                onClick={() => onNavigate(item.key)}
                className={`flex-1 text-center py-3 px-2 text-sm font-medium transition-colors duration-200 ${currentPage === item.key ? 'bg-[#d2b48c] text-black' : 'text-white/80 hover:bg-white/10'}`}
              >
                {item.label}
              </button>
            ))}
          </nav>
          <div className="px-4 pb-4 pt-4 bg-[#16161a] border-x border-b border-white/10 rounded-b-xl">
            <form onSubmit={handleSearchSubmit}>
              <div className="relative">
                <input
                  type="search"
                  value={localQuery}
                  onChange={(e) => setLocalQuery(e.target.value)}
                  placeholder="Search fragrances..."
                  className="w-full bg-[#0f0f12] border border-white/10 rounded-xl py-3 px-4 pl-10 focus:outline-none focus:ring-2 focus:ring-[#d2b48c]/40 transition-all duration-200"
                />
                <div className="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
                  <svg className="w-5 h-5 text-white/50" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                </div>
              </div>
            </form>
          </div>
        </div>
      );
    };

    // Fragrance Category Component
    const FragranceCategoryPage = ({ title, products, onProductSelect, onSearch, onNavigate, currentPage }) => {
      return (
        <div className="max-w-6xl mx-auto">
          <CategoryHeader onNavigate={onNavigate} currentPage={currentPage} onSearch={onSearch} />
          <h1 className="text-3xl font-bold mb-6">{title}</h1>
          <div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
            {products.map(product => (
              <div 
                key={product.id} 
                onClick={() => onProductSelect(product)}
                className="bg-[#16161a] rounded-lg shadow-md overflow-hidden transform hover:scale-105 transition-transform duration-300 text-left cursor-pointer"
              >
                <img src={product.imageUrl} alt={product.name} className="w-full h-48 object-cover" />
                <div className="p-4">
                  <h3 className="text-xl font-semibold text-[#d2b48c]">{product.name}</h3>
                </div>
              </div>
            ))}
          </div>
        </div>
      );
    };

    // New Product Detail Page Component
    const ProductDetailPage = ({ product }) => {
      if (!product) return null;

      return (
        <div className="max-w-4xl mx-auto py-8">
          <div className="grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12">
            <div>
              <img src={product.imageUrl} alt={product.name} className="w-full rounded-lg shadow-lg object-cover aspect-square" />
            </div>
            <div className="flex flex-col justify-center">
              <h1 className="text-4xl font-bold text-[#d2b48c] mb-4">{product.name}</h1>
              <p className="text-white/70 mb-6">{product.desc}</p>
              
              <div className="space-y-3">
                <h3 className="text-xl font-semibold text-white mb-2">Available Sizes</h3>
                {product.sizes.map((sizeOption, index) => (
                  <div key={index} className="flex items-center justify-between gap-4 bg-[#16161a] p-4 rounded-lg border border-white/10">
                    <div>
                      <span className="text-md text-white/80 font-medium">{sizeOption.size}</span>
                      <span className="block text-lg font-bold text-[#d2b48c]">{sizeOption.price}</span>
                    </div>
                    <a
                      href={`https://api.whatsapp.com/send?phone=256742450169&text=Hello! I would like to order the ${product.name} perfume in the ${sizeOption.size} for ${sizeOption.price}.`}
                      target="_blank"
                      rel="noopener noreferrer"
                      className="text-sm py-2 px-5 rounded-full bg-gradient-to-r from-[#d2b48c] to-[#b89972] text-[#111] font-semibold transition-all duration-300 transform hover:scale-110 whitespace-nowrap"
                    >
                      Order Now
                    </a>
                  </div>
                ))}
              </div>
            </div>
          </div>
        </div>
      );
    };

    // New Search Results Component to display filtered products
    const SearchResultsPage = ({ products, searchQuery, onProductSelect, onSearch, onNavigate, currentPage }) => {
      const genderClasses = {
        women: 'bg-pink-300/20 text-pink-300',
        men: 'bg-blue-300/20 text-blue-300',
        unisex: 'bg-[#d2b48c]/20 text-[#d2b48c]',
      };

      return (
        <div className="max-w-6xl mx-auto">
          <CategoryHeader onNavigate={onNavigate} currentPage={currentPage} onSearch={onSearch} initialQuery={searchQuery} />
          <div className="text-center py-2">
            <h1 className="text-4xl font-bold mb-2">Search Results</h1>
            <p className="text-white/70">Found {products.length} {products.length === 1 ? 'fragrance' : 'fragrances'} matching "{searchQuery}"</p>
          </div>

          <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mt-6">
            {products.length > 0 ? (
              products.map(product => (
                <div 
                  key={product.id} 
                  onClick={() => onProductSelect(product)}
                  className="bg-[#16161a] rounded-2xl overflow-hidden border border-white/10 shadow-lg group transform transition-all duration-300 hover:scale-105 cursor-pointer"
                >
                  <div className="relative aspect-square">
                    <img src={product.imageUrl} alt={product.name} className="absolute inset-0 w-full h-full object-cover rounded-t-2xl" />
                    <span className={`absolute top-4 right-4 text-xs font-semibold rounded-full py-1 px-3 ${genderClasses[product.gender]}`}>
                      {product.gender.charAt(0).toUpperCase() + product.gender.slice(1)}
                    </span>
                  </div>
                  <div className="p-4">
                    <h3 className="text-xl font-semibold text-[#d2b48c]">{product.name}</h3>
                  </div>
                </div>
              ))
            ) : (
              <div className="md:col-span-4 text-center py-10">
                <p className="text-white/50 text-lg">No fragrances found. Please try a different search term.</p>
              </div>
            )}
          </div>
        </div>
      );
    };

    // About Page Component
    const AboutPage = () => (
      <>
        <div className="text-center py-10">
          <h1 className="text-4xl font-bold mb-2">About DANIEL PERFUMES</h1>
          <p className="text-white/70">Crafting luxury fragrance experiences that are accessible to everyone.</p>
        </div>

        <div className="max-w-4xl mx-auto text-white/80 space-y-6">
          <p>
            Founded in 2020, DANIELS' began with a simple mission: to make luxury fragrances accessible without compromising on quality.
            Our founder, who is passionate in the fragrance industry, noticed that many people loved designer scents
            but couldn't find them locally.
          </p>
          <p>
            We spent two years meticulously developing our collection of perfumes, sourcing the finest from around the world to
            bring you popular designer fragrances that offer superior longevity and value.
          </p>
          <h2 className="text-3xl font-bold pt-6 text-white">Our Philosophy</h2>
          <p>
            We believe that everyone deserves to experience the confidence and joy that comes from wearing a beautiful fragrance. Our
            alcohol perfume oils are concentrated to last longer on your skin, are gentle even for sensitive skin, and come in elegant,
            original packaging.
          </p>
        </div>
      </>
    );

    // Contact Page Component
    const ContactPage = ({ onSubmit, showSuccess }) => {
      const [formData, setFormData] = useState({ name: '', email: '', message: '' });

      const handleChange = (e) => {
        const { name, value } = e.target;
        setFormData((prev) => ({ ...prev, [name]: value }));
      };

      return (
        <>
          <div className="text-center py-10">
            <h1 className="text-4xl font-bold mb-2">Get In Touch</h1>
            <p className="text-white/70">We'd love to hear from you. Reach out with questions, feedback, or wholesale inquiries.</p>
          </div>

          <div className="max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8">
            <div className="space-y-6">
              <div className="bg-[#16161a] p-6 rounded-2xl border border-white/10 shadow-lg">
                <h3 className="text-xl font-bold text-[#d2b48c] mb-2">ð Visit Us</h3>
                <p className="text-white/80 mb-2">
                </p>
                <p className="text-white/80">
                  <a href="https://maps.app.goo.gl/sabCcrqfrHPEZn7p6?g_st=aw" target="_blank" rel="noopener noreferrer" className="hover:underline">
                    Acacia mall opposite old Chillies Restaurant
                  </a>
                </p>
              </div>
              <div className="bg-[#16161a] p-6 rounded-2xl border border-white/10 shadow-lg">
                <h3 className="text-xl font-bold text-[#d2b48c] mb-2">ð Call Us</h3>
                <p className="text-white/80">+256 742 450 169<br />Mon-Fri, 9AM-5PM EAT</p>
              </div>
              <div className="bg-[#16161a] p-6 rounded-2xl border border-white/10 shadow-lg">
                <h3 className="text-xl font-bold text-[#d2b48c] mb-2">âï¸ Email Us</h3>
                <p className="text-white/80">hello@Daniels'.com<br />We respond within 24 hours</p>
              </div>
            </div>

            <div className="bg-[#16161a] p-8 rounded-2xl border border-white/10 shadow-lg">
              <h3 className="text-2xl font-bold mb-4">Send us a message</h3>
              <form onSubmit={onSubmit} className="space-y-4">
                <div>
                  <label htmlFor="name" className="block text-sm font-medium mb-1">Your Name</label>
                  <input
                    type="text"
                    id="name"
                    name="name"
                    value={formData.name}
                    onChange={handleChange}
                    className="w-full bg-[#111114] border border-white/10 rounded-xl py-3 px-4 focus:outline-none focus:ring-2 focus:ring-[#d2b48c]/40 transition-all duration-200"
                    placeholder="Enter your full name"
                    required
                  />
                </div>
                <div>
                  <label htmlFor="email" className="block text-sm font-medium mb-1">Your Email</label>
                  <input
                    type="email"
                    id="email"
                    name="email"
                    value={formData.email}
                    onChange={handleChange}
                    className="w-full bg-[#111114] border border-white/10 rounded-xl py-3 px-4 focus:outline-none focus:ring-2 focus:ring-[#d2b48c]/40 transition-all duration-200"
                    placeholder="Enter your email address"
                    required
                  />
                </div>
                <div>
                  <label htmlFor="message" className="block text-sm font-medium mb-1">Your Message</label>
                  <textarea
                    id="message"
                    name="message"
                    value={formData.message}
                    onChange={handleChange}
                    rows="4"
                    className="w-full bg-[#111114] border border-white/10 rounded-xl py-3 px-4 focus:outline-none focus:ring-2 focus:ring-[#d2b48c]/40 transition-all duration-200"
                    placeholder="Write your message here..."
                    required
                  ></textarea>
                </div>
                <button type="submit" className="w-full py-3 rounded-xl font-semibold bg-gradient-to-r from-[#d2b48c] to-[#b89972] text-[#111] transition-all duration-300 hover:scale-[1.01] hover:shadow-xl">
                  Send Message
                </button>
              </form>

              {showSuccess && (
                <div className="mt-4 p-4 text-center text-white bg-green-500 rounded-xl">
                  Message sent successfully!
                </div>
              )}
            </div>
          </div>
        </>
      );
    };

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(
      <React.StrictMode>
        <App />
      </React.StrictMode>
    );
  </script>
</body>
</html>
